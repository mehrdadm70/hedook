<div class="product-form-container">
  <div class="page-header">
    <div class="header-content">
      <button mat-icon-button (click)="onCancelled()" class="back-button">
        <mat-icon>arrow_back</mat-icon>
      </button>
      <h1 class="page-title">{{ pageTitle() }}</h1>
    </div>
  </div>

  <!-- Loading State -->
  @if (loading()) {
    <div class="loading-container">
      <mat-spinner diameter="50"></mat-spinner>
      <p class="loading-text">در حال بارگذاری...</p>
    </div>
  }     
 

  <!-- Error State -->
  @if (error() && !loading()) {
    <div class="error-container">
      <div class="error-content">
        <mat-icon class="error-icon">error</mat-icon>
        <h3 class="error-title">خطا</h3>
        <p class="error-message">{{ error() }}</p>
        @if (isEditMode()) {
          <button     
            mat-raised-button 
            color="primary" 
            (click)="retryLoad()"
            class="retry-button">
              تلاش مجدد
            </button>
        }
      </div>
    </div>
  }
 

  <!-- Product Form -->
  @if (!loading() && !error()) {
    <app-product-form 
      [product]="product()!"
      (saved)="onProductSaved($event)"
      (cancelled)="onCancelled()">
    </app-product-form>
  }

</div>
